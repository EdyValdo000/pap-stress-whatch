<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="pap.MainPage"
             BackgroundColor="#1A202C">

    <Grid>
        <!-- Layout Principal -->
        <Grid RowDefinitions="Auto,*" ColumnDefinitions="200,*">
            <!-- Menu Lateral -->
            <StackLayout Grid.Row="0" Grid.Column="0" Padding="20" BackgroundColor="#2D3748" Spacing="30">
                <Label Text="📋 Menu"
                       FontSize="22"
                       TextColor="#E2E8F0"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"/>

                <Button Text="📊 Monitoramento"
                        BackgroundColor="#4A5568"
                        TextColor="White"
                        FontSize="16"
                        CornerRadius="10"
                        Margin="0,5"
                        Clicked="ShowMonitoring"/>

                <Button Text="⚙️ Configurações"
                        BackgroundColor="#4A5568"
                        TextColor="White"
                        FontSize="16"
                        CornerRadius="10"
                        Margin="0,5"
                        Clicked="ShowSettings"/>

                <Button Text="ℹ️ Sobre"
                        BackgroundColor="#4A5568"
                        TextColor="White"
                        FontSize="16"
                        CornerRadius="10"
                        Margin="0,5"
                        Clicked="ShowAbout"/>
            </StackLayout>

            <!-- Conteúdo Principal -->
            <ScrollView Grid.Row="0" Grid.Column="1">
                <VerticalStackLayout Padding="30" Spacing="25">
                    <!-- Monitoramento -->
                    <StackLayout x:Name="MonitoringLayout" IsVisible="True" Spacing="20">
                        <Label Text="📊 Monitoramento da Saúde"
                               FontSize="28"
                               TextColor="#E2E8F0"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>

                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" Padding="0">
                            <!-- Frequência Cardíaca -->
                            <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="15" Grid.Row="0" Grid.Column="0" Margin="10,5">
                                <VerticalStackLayout Spacing="5">
                                    <Label Text="❤️ Frequência Cardíaca"
                                           FontSize="18"
                                           TextColor="#CBD5E0"/>
                                    <Label x:Name="HeartRateLabel"
                                           Text="-- bpm"
                                           FontSize="22"
                                           TextColor="#38B2AC"
                                           FontAttributes="Bold"/>
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Temperatura Corporal -->
                            <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="15" Grid.Row="0" Grid.Column="1" Margin="10,5">
                                <VerticalStackLayout Spacing="5">
                                    <Label Text="🌡️ Temperatura Corporal"
                                           FontSize="18"
                                           TextColor="#CBD5E0"/>
                                    <Label x:Name="TemperatureLabel"
                                           Text="--°C"
                                           FontSize="22"
                                           TextColor="#F56565"
                                           FontAttributes="Bold"/>
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Nível de Estresse -->
                            <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="15" Grid.Row="1" Grid.Column="0" Margin="10,5">
                                <VerticalStackLayout Spacing="5">
                                    <Label Text="🧠 Nível de Estresse"
                                           FontSize="18"
                                           TextColor="#CBD5E0"/>
                                    <Label x:Name="GSRLabel"
                                           Text="--"
                                           FontSize="22"
                                           TextColor="#48BB78"
                                           FontAttributes="Bold"/>
                                </VerticalStackLayout>
                            </Frame>
                        </Grid>
                    </StackLayout>

                    <!-- Configurações -->
                    <StackLayout x:Name="SettingsLayout" IsVisible="False" Spacing="20">
                        <Label Text="⚙️ Configurações"
                               FontSize="28"
                               TextColor="#E2E8F0"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>

                        <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="10">
                            <Entry Placeholder="Endereço IP"
                                   FontSize="16"
                                   TextColor="White"
                                   PlaceholderColor="#A0AEC0"
                                   BackgroundColor="Transparent"
                                   Margin="0,5"/>
                        </Frame>

                        <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="10">
                            <Entry Placeholder="Porta"
                                   FontSize="16"
                                   TextColor="White"
                                   PlaceholderColor="#A0AEC0"
                                   BackgroundColor="Transparent"
                                   Margin="0,5"/>
                        </Frame>

                        <HorizontalStackLayout Spacing="20">
                            <Button Text="🔗 Conectar"
                                    BackgroundColor="#38B2AC"
                                    TextColor="White"
                                    CornerRadius="10"
                                    Margin="5"
                                    Clicked="OnButtonClicked"/>
                            <Button Text="❌ Desconectar"
                                    BackgroundColor="#E53E3E"
                                    TextColor="White"
                                    CornerRadius="10"
                                    Margin="5"
                                    Clicked="OnButtonClicked"/>
                        </HorizontalStackLayout>
                    </StackLayout>

                    <!-- Sobre -->
                    <StackLayout x:Name="AboutLayout" IsVisible="False" Spacing="20">
                        <Label Text="ℹ️ Sobre o Projeto"
                               FontSize="28"
                               TextColor="#E2E8F0"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Frame BackgroundColor="#2D3748" CornerRadius="15" Padding="20">
                            <Label Text="Este projeto monitora indicadores de saúde em tempo real, oferecendo insights baseados em IA. Desenvolvido para trazer bem-estar e inovação ao monitoramento corporal."
                                   FontSize="16"
                                   TextColor="#CBD5E0"
                                   VerticalTextAlignment="Center"/>
                        </Frame>
                    </StackLayout>
                </VerticalStackLayout>
            </ScrollView>
        </Grid>

        <!-- Chat de IA -->
        <Frame x:Name="ChatFrame"
               IsVisible="False"
               BackgroundColor="#2D3748"
               CornerRadius="20"
               Padding="20"
               Margin="15"
               WidthRequest="300"
               HeightRequest="200"
               HorizontalOptions="End"
               VerticalOptions="End"
               TranslationY="50"
               Opacity="0">
            <VerticalStackLayout Spacing="10">
                <Label Text="🤖 Chat IA"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#CBD5E0"/>
                <Label x:Name="ChatMessageLabel"
                       Text="Aguardando análise..."
                       FontSize="16"
                       TextColor="White"/>
            </VerticalStackLayout>
        </Frame>

        <!-- Botão Flutuante -->
        <Frame BackgroundColor="#38B2AC"
               WidthRequest="60"
               HeightRequest="60"
               CornerRadius="30"
               Padding="0"
               HasShadow="True"
               HorizontalOptions="End"
               VerticalOptions="End"
               Margin="20">
            <Button Text="💬"
                    FontSize="20"
                    BackgroundColor="Transparent"
                    TextColor="White"
                    Clicked="ToggleChat"/>
        </Frame>
    </Grid>
</ContentPage>
